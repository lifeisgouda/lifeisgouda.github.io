<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> [Hadoop] Hadoop 설치 및 WordCount 예제 실습 | Fourier Dev</title>
  <link rel = 'canonical' href = 'https://lifeisgouda.github.io/posts/programming/hadoop/2018-02-24-hadoop_wordcount_example/'>
  <meta name="description" content="데이터">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="[Hadoop] Hadoop 설치 및 WordCount 예제 실습" />
<meta property="og:description" content="Hadoop Hadoop = HDFS &#43; MapReduce
Mode 3가지 HDFS 설치방식  Stand alone (독립실행모드) : 기본 실행모드. 분산저장 안함. 코딩은 가능. Pseudo-distributed (가상분산모드) : 하나의 컴퓨터에 설치 Fully distributed (완전분산모드) : 여러 대의 컴퓨터에 설치  순서  VirtualBox 설치 Ubuntu 14.04.2 설치 // 이후에는 VirtualBox 내의 Ubuntu 에서 진행 JDK 설치 하둡 다운로드 하둡 Stand-alone 모드 구성 하둡 가상 분산 모드 구성 이클립스 다운로드, 설정 WordCount 예제 코딩 테스트  Ubuntu에 JDK 8 설치  $ sudo add-apt-repository ppa:webupd8team/java $ sudo apt-get update $ sudo apt-get install oracle-java8-installer 하둡 다운로드 후 압축 해제 URL : https://archive." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lifeisgouda.github.io/posts/programming/hadoop/2018-02-24-hadoop_wordcount_example/" /><meta property="article:section" content="posts" />




  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Hadoop] Hadoop 설치 및 WordCount 예제 실습"/>
<meta name="twitter:description" content="Hadoop Hadoop = HDFS &#43; MapReduce
Mode 3가지 HDFS 설치방식  Stand alone (독립실행모드) : 기본 실행모드. 분산저장 안함. 코딩은 가능. Pseudo-distributed (가상분산모드) : 하나의 컴퓨터에 설치 Fully distributed (완전분산모드) : 여러 대의 컴퓨터에 설치  순서  VirtualBox 설치 Ubuntu 14.04.2 설치 // 이후에는 VirtualBox 내의 Ubuntu 에서 진행 JDK 설치 하둡 다운로드 하둡 Stand-alone 모드 구성 하둡 가상 분산 모드 구성 이클립스 다운로드, 설정 WordCount 예제 코딩 테스트  Ubuntu에 JDK 8 설치  $ sudo add-apt-repository ppa:webupd8team/java $ sudo apt-get update $ sudo apt-get install oracle-java8-installer 하둡 다운로드 후 압축 해제 URL : https://archive."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://lifeisgouda.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://lifeisgouda.github.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://lifeisgouda.github.io/posts/programming/hadoop/2018-03-01-hadoop_setting/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://lifeisgouda.github.io/posts/algorithms/data_structure/2018-08-22-data_structure_graph/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&text=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&title=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&is_video=false&description=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5&body=Check out this article: https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&title=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&title=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&name=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5&description=Hadoop%20Hadoop%20%3d%20HDFS%20%2b%20MapReduce%0aMode%203%ea%b0%80%ec%a7%80%20HDFS%20%ec%84%a4%ec%b9%98%eb%b0%a9%ec%8b%9d%20%20Stand%20alone%20%28%eb%8f%85%eb%a6%bd%ec%8b%a4%ed%96%89%eb%aa%a8%eb%93%9c%29%20%3a%20%ea%b8%b0%eb%b3%b8%20%ec%8b%a4%ed%96%89%eb%aa%a8%eb%93%9c.%20%eb%b6%84%ec%82%b0%ec%a0%80%ec%9e%a5%20%ec%95%88%ed%95%a8.%20%ec%bd%94%eb%94%a9%ec%9d%80%20%ea%b0%80%eb%8a%a5.%20Pseudo-distributed%20%28%ea%b0%80%ec%83%81%eb%b6%84%ec%82%b0%eb%aa%a8%eb%93%9c%29%20%3a%20%ed%95%98%eb%82%98%ec%9d%98%20%ec%bb%b4%ed%93%a8%ed%84%b0%ec%97%90%20%ec%84%a4%ec%b9%98%20Fully%20distributed%20%28%ec%99%84%ec%a0%84%eb%b6%84%ec%82%b0%eb%aa%a8%eb%93%9c%29%20%3a%20%ec%97%ac%eb%9f%ac%20%eb%8c%80%ec%9d%98%20%ec%bb%b4%ed%93%a8%ed%84%b0%ec%97%90%20%ec%84%a4%ec%b9%98%20%20%ec%88%9c%ec%84%9c%20%20VirtualBox%20%ec%84%a4%ec%b9%98%20Ubuntu%2014.04.2%20%ec%84%a4%ec%b9%98%20%2f%2f%20%ec%9d%b4%ed%9b%84%ec%97%90%eb%8a%94%20VirtualBox%20%eb%82%b4%ec%9d%98%20Ubuntu%20%ec%97%90%ec%84%9c%20%ec%a7%84%ed%96%89%20JDK%20%ec%84%a4%ec%b9%98%20%ed%95%98%eb%91%a1%20%eb%8b%a4%ec%9a%b4%eb%a1%9c%eb%93%9c%20%ed%95%98%eb%91%a1%20Stand-alone%20%eb%aa%a8%eb%93%9c%20%ea%b5%ac%ec%84%b1%20%ed%95%98%eb%91%a1%20%ea%b0%80%ec%83%81%20%eb%b6%84%ec%82%b0%20%eb%aa%a8%eb%93%9c%20%ea%b5%ac%ec%84%b1%20%ec%9d%b4%ed%81%b4%eb%a6%bd%ec%8a%a4%20%eb%8b%a4%ec%9a%b4%eb%a1%9c%eb%93%9c%2c%20%ec%84%a4%ec%a0%95%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%bd%94%eb%94%a9%20%ed%85%8c%ec%8a%a4%ed%8a%b8%20%20Ubuntu%ec%97%90%20JDK%208%20%ec%84%a4%ec%b9%98%20%20%24%20sudo%20add-apt-repository%20ppa%3awebupd8team%2fjava%20%24%20sudo%20apt-get%20update%20%24%20sudo%20apt-get%20install%20oracle-java8-installer%20%ed%95%98%eb%91%a1%20%eb%8b%a4%ec%9a%b4%eb%a1%9c%eb%93%9c%20%ed%9b%84%20%ec%95%95%ec%b6%95%20%ed%95%b4%ec%a0%9c%20URL%20%3a%20https%3a%2f%2farchive." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&t=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#hadoop">Hadoop</a>
      <ul>
        <li><a href="#mode-3가지">Mode 3가지</a>
          <ul>
            <li><a href="#hdfs-설치방식">HDFS 설치방식</a></li>
          </ul>
        </li>
        <li><a href="#순서">순서</a></li>
        <li><a href="#ubuntu에-jdk-8-설치">Ubuntu에 JDK 8 설치</a></li>
        <li><a href="#하둡-다운로드-후-압축-해제">하둡 다운로드 후 압축 해제</a>
          <ul>
            <li><a href="#vim-설정">vim 설정</a></li>
            <li><a href="#하둡-stand-alone-모드-구성-및-예제-테스트">하둡 Stand-alone 모드 구성 및 예제 테스트</a></li>
            <li><a href="#하둡-가상분산-모드-구성">하둡 가상분산 모드 구성</a></li>
            <li><a href="#hadoop-envsh-수정">hadoop-env.sh 수정</a></li>
            <li><a href="#보안-인증-관련-명령-실행">보안 인증 관련 명령 실행</a></li>
            <li><a href="#core-sitexml-하둡의-핵심-설정-파일-편집">core-site.xml (하둡의 핵심 설정 파일) 편집</a></li>
            <li><a href="#hdfs-sitexml-하둡-분산-파일-관련-설정-편집">hdfs-site.xml (하둡 분산 파일 관련 설정) 편집</a></li>
            <li><a href="#mapred-sitexml-하둡-맵리듀스-관련-설정-편집">mapred-site.xml (하둡 맵리듀스 관련 설정) 편집</a></li>
            <li><a href="#namenode-포맷--namenode-는-처음에-꼭-한번-만-포맷해야-한다">namenode 포맷 ( namenode 는 처음에 꼭 한번 만 포맷해야 한다.)</a></li>
            <li><a href="#하둡-시작-및-확인">하둡 시작 및 확인</a></li>
            <li><a href="#하둡-프로세스-확인">하둡 프로세스 확인</a></li>
          </ul>
        </li>
        <li><a href="#이클립스-다운로드-설정">이클립스 다운로드, 설정</a>
          <ul>
            <li><a href="#이클립스-다운로드">이클립스 다운로드</a></li>
            <li><a href="#압축해제">압축해제</a></li>
            <li><a href="#이클립스를-사용하여-maven-프로젝트-생성">이클립스를 사용하여 Maven 프로젝트 생성</a></li>
          </ul>
        </li>
        <li><a href="#wordcount-예제-코딩">WordCount 예제 코딩</a>
          <ul>
            <li><a href="#wordcount-클래스-생성">WordCount 클래스 생성</a></li>
            <li><a href="#예제를-maven-install-로-jar-파일로-패키징한다">예제를 Maven Install 로 ~.jar 파일로 패키징한다.</a></li>
          </ul>
        </li>
        <li><a href="#하둡-가상-분산-모드에서-생성된-jar-을-사용하여-wordcount-실행-테스트">하둡 가상 분산 모드에서 생성된 jar 을 사용하여 WordCount 실행, 테스트</a>
          <ul>
            <li><a href="#hadoop-jar-명령을-사용하여-예제를-실행테스트한다">hadoop jar 명령을 사용하여 예제를 실행/테스트한다.</a></li>
            <li><a href="#결과가-output1-폴더에-part-r-00000-이라는-파일로-저장된다">결과가 output1 폴더에 part-r-00000 이라는 파일로 저장된다.</a></li>
            <li><a href="#wc--wordcount-명령어">wc : wordcount 명령어</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        [Hadoop] Hadoop 설치 및 WordCount 예제 실습
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          16 minute read
        </div>
        
        
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <h2 id="hadoop">Hadoop</h2>
<p>Hadoop = HDFS + MapReduce</p>
<h3 id="mode-3가지">Mode 3가지</h3>
<h4 id="hdfs-설치방식">HDFS 설치방식</h4>
<ul>
<li>Stand alone (독립실행모드) : 기본 실행모드. 분산저장 안함. 코딩은 가능.</li>
<li>Pseudo-distributed (가상분산모드) : 하나의 컴퓨터에 설치</li>
<li>Fully distributed (완전분산모드) : 여러 대의 컴퓨터에 설치</li>
</ul>
<h3 id="순서">순서</h3>
<ol>
<li>VirtualBox 설치</li>
<li>Ubuntu 14.04.2 설치 // 이후에는 VirtualBox 내의 Ubuntu 에서 진행</li>
<li>JDK 설치</li>
<li>하둡 다운로드</li>
<li>하둡 Stand-alone 모드 구성</li>
<li>하둡 가상 분산 모드 구성</li>
<li>이클립스 다운로드, 설정</li>
<li>WordCount 예제 코딩</li>
<li>테스트</li>
</ol>
<h3 id="ubuntu에-jdk-8-설치">Ubuntu에 JDK 8 설치</h3>
<pre tabindex="0"><code>
$ sudo add-apt-repository ppa:webupd8team/java
$ sudo apt-get update
$ sudo apt-get install oracle-java8-installer
</code></pre><h3 id="하둡-다운로드-후-압축-해제">하둡 다운로드 후 압축 해제</h3>
<p>URL : <a href="https://archive.apache.org/dist/hadoop/common/hadoop-1.2.1/hadoop-1.2.1.tar.gz">https://archive.apache.org/dist/hadoop/common/hadoop-1.2.1/hadoop-1.2.1.tar.gz</a> 에서 다운로드</p>
<p>아래 명령어로 압축해제 및 설정.</p>
<p>참고 : 앞으로 나오는 /home/유저명/ 에서 &ldquo;유저명&rdquo; 부분은 &ldquo;여러분 자신의 유저명&quot;으로 수정하여 입력하면 된다.</p>
<h4 id="vim-설정">vim 설정</h4>
<pre tabindex="0"><code>$ vi .vimrc

# 아래 내용 입력 후 저장
filetype plugin on
syntax on

set number
set paste

set ruler
set laststatus=2

$ cat .vimrc     # 확인
</code></pre><pre tabindex="0"><code>$ cd Downloads
$ cp hadoop-1.2.1.tar.gz ~       # ~ : home folder
$ cd ~
$ tar zxvf hadoop-1.2.1.tar.gz
$ sudo apt-get install vim

$ vim .bashrc # 맨 끝에 아래 3줄 추가

export JAVA_HOME=/usr/lib/jvm/java-8-oracle
export HADOOP_INSTALL=/home/유저명/hadoop-1.2.1
export PATH=PATH:HADOOP_INSTALL/bin

$ source .bashrc # 변경 내용 적용
$ hadoop # 메시지가 정상 출력되면 OK
</code></pre><h4 id="하둡-stand-alone-모드-구성-및-예제-테스트">하둡 Stand-alone 모드 구성 및 예제 테스트</h4>
<p>아래 명령어로 테스트.</p>
<p>폴더명 중복 안되게 해야 한다.</p>
<pre tabindex="0"><code>$ cd /home/유저명/hadoop-1.2.1
$ mkdir input
$ cp README.txt input
$ hadoop jar hadoop-examples-1.2.1.jar wordcount input output
# cat output/part-r-00000 # 결과 확인
</code></pre><ul>
<li>
<p>jar : 파일을 실행하는 명령어</p>
</li>
<li>
<p>hadoop-examples-1.2.1.jar 파일이 하둡 예제파일</p>
</li>
<li>
<p><code>$ hadoop jar hadoop-examples-1.2.1.jar wordcount input output</code> : hadoop / 파일실행 / 파일명 / 할일 /입력폴더 / 출력폴더</p>
<pre tabindex="0"><code># 출력 결과

18/02/24 14:10:18 INFO util.NativeCodeLoader: Loaded the native-hadoop library
18/02/24 14:10:18 INFO input.FileInputFormat: Total input paths to process : 1
18/02/24 14:10:18 WARN snappy.LoadSnappy: Snappy native library not loaded
18/02/24 14:10:18 INFO mapred.JobClient: Running job: job_local1707454656_0001
18/02/24 14:10:19 INFO mapred.LocalJobRunner: Waiting for map tasks
18/02/24 14:10:19 INFO mapred.LocalJobRunner: Starting task: attempt_local1707454656_0001_m_000000_0
18/02/24 14:10:19 INFO util.ProcessTree: setsid exited with exit code 0
18/02/24 14:10:19 INFO mapred.Task:  Using ResourceCalculatorPlugin : org.apache.hadoop.util.LinuxResourceCalculatorPlugin@415eb82d
18/02/24 14:10:19 INFO mapred.MapTask: Processing split: file:/home/jane/hadoop-1.2.1/input:0+1366
18/02/24 14:10:19 INFO mapred.MapTask: io.sort.mb = 100
18/02/24 14:10:19 INFO mapred.MapTask: data buffer = 79691776/99614720
18/02/24 14:10:19 INFO mapred.MapTask: record buffer = 262144/327680
18/02/24 14:10:19 INFO mapred.MapTask: Starting flush of map output
18/02/24 14:10:19 INFO mapred.MapTask: Finished spill 0
18/02/24 14:10:19 INFO mapred.Task: Task:attempt_local1707454656_0001_m_000000_0 is done. And is in the process of commiting
18/02/24 14:10:19 INFO mapred.LocalJobRunner: 
18/02/24 14:10:19 INFO mapred.Task: Task &#39;attempt_local1707454656_0001_m_000000_0&#39; done.
18/02/24 14:10:19 INFO mapred.LocalJobRunner: Finishing task: attempt_local1707454656_0001_m_000000_0
18/02/24 14:10:19 INFO mapred.LocalJobRunner: Map task executor complete.
18/02/24 14:10:19 INFO mapred.Task:  Using ResourceCalculatorPlugin : org.apache.hadoop.util.LinuxResourceCalculatorPlugin@2f017655
18/02/24 14:10:19 INFO mapred.LocalJobRunner: 
18/02/24 14:10:19 INFO mapred.Merger: Merging 1 sorted segments
18/02/24 14:10:19 INFO mapred.Merger: Down to the last merge-pass, with 1 segments left of total size: 1832 bytes
18/02/24 14:10:19 INFO mapred.LocalJobRunner: 
18/02/24 14:10:19 INFO mapred.Task: Task:attempt_local1707454656_0001_r_000000_0 is done. And is in the process of commiting
18/02/24 14:10:19 INFO mapred.LocalJobRunner: 
18/02/24 14:10:19 INFO mapred.Task: Task attempt_local1707454656_0001_r_000000_0 is allowed to commit now
18/02/24 14:10:19 INFO output.FileOutputCommitter: Saved output of task &#39;attempt_local1707454656_0001_r_000000_0&#39; to output
18/02/24 14:10:19 INFO mapred.LocalJobRunner: reduce &gt; reduce
18/02/24 14:10:19 INFO mapred.Task: Task &#39;attempt_local1707454656_0001_r_000000_0&#39; done.
18/02/24 14:10:19 INFO mapred.JobClient:  map 100% reduce 100%
18/02/24 14:10:19 INFO mapred.JobClient: Job complete: job_local1707454656_0001
18/02/24 14:10:19 INFO mapred.JobClient: Counters: 20
18/02/24 14:10:19 INFO mapred.JobClient:   Map-Reduce Framework
18/02/24 14:10:19 INFO mapred.JobClient:     Spilled Records=262
18/02/24 14:10:19 INFO mapred.JobClient:     Map output materialized bytes=1836
18/02/24 14:10:19 INFO mapred.JobClient:     Reduce input records=131
18/02/24 14:10:19 INFO mapred.JobClient:     Virtual memory (bytes) snapshot=0
18/02/24 14:10:19 INFO mapred.JobClient:     Map input records=31
18/02/24 14:10:19 INFO mapred.JobClient:     SPLIT_RAW_BYTES=99
18/02/24 14:10:19 INFO mapred.JobClient:     Map output bytes=2055
18/02/24 14:10:19 INFO mapred.JobClient:     Reduce shuffle bytes=0
18/02/24 14:10:19 INFO mapred.JobClient:     Physical memory (bytes) snapshot=0
18/02/24 14:10:19 INFO mapred.JobClient:     Reduce input groups=131
18/02/24 14:10:19 INFO mapred.JobClient:     Combine output records=131
18/02/24 14:10:19 INFO mapred.JobClient:     Reduce output records=131
18/02/24 14:10:19 INFO mapred.JobClient:     Map output records=179
18/02/24 14:10:19 INFO mapred.JobClient:     Combine input records=179
18/02/24 14:10:19 INFO mapred.JobClient:     CPU time spent (ms)=0
18/02/24 14:10:19 INFO mapred.JobClient:     Total committed heap usage (bytes)=357564416
18/02/24 14:10:19 INFO mapred.JobClient:   File Input Format Counters 
18/02/24 14:10:19 INFO mapred.JobClient:     Bytes Read=1366
18/02/24 14:10:19 INFO mapred.JobClient:   FileSystemCounters
18/02/24 14:10:19 INFO mapred.JobClient:     FILE_BYTES_WRITTEN=395714
18/02/24 14:10:19 INFO mapred.JobClient:     FILE_BYTES_READ=290330
18/02/24 14:10:19 INFO mapred.JobClient:   File Output Format Counters 
18/02/24 14:10:19 INFO mapred.JobClient:     Bytes Written=1326
</code></pre><p>​</p>
</li>
</ul>
<h4 id="하둡-가상분산-모드-구성">하둡 가상분산 모드 구성</h4>
<p><strong>5개의 프로세스</strong> : Name node, Secondary Namenode, Data node, Job tracker, Tast tracker</p>
<p>아래 순서로 네개 파일 수정해 준다.</p>
<ul>
<li>
<p>hadoop-env.sh : 환경변수 설정</p>
</li>
<li>
<p>core-site.xml : HDFS와 MapReduce에서 공통적으로 사용할 환경정보 설정</p>
</li>
<li>
<p>hdfs-site.xml : HDFS에서 사용할 환경정보 설정</p>
</li>
<li>
<p>mapred-site.xml : MapReduce에서 사용할 환경정보 설정</p>
</li>
</ul>
<h4 id="hadoop-envsh-수정">hadoop-env.sh 수정</h4>
<p>JAVA_HOME 파라미터를 실제 JDK가 설치된 경로로 수정하는 작업</p>
<pre tabindex="0"><code>$ vim /home/유저명/hadoop-1.2.1/conf/hadoop-env.sh # 맨 끝에 3줄 추가

export JAVA_HOME=/usr/lib/jvm/java-8-oracle
export HADOOP_HOME=/home/유저명/hadoop-1.2.1
export HADOOP_HOME_WARN_SUPPRESS=&#34;TRUE&#34;  # Warning: $HADOOP_HOME is deprecated.
</code></pre><h4 id="보안-인증-관련-명령-실행">보안 인증 관련 명령 실행</h4>
<pre tabindex="0"><code># 컴퓨터끼리 연결해서 접속할 수 있게 ssh 설정

$ sudo apt-get install openssh-server
$ sudo /etc/init.d/ssh restart # ssh 재실행
$ netstat -ntl # 0:::22 있으면 OK


# 접속할 때마다 비밀번호 묻지 않게 public key 공유(리눅스의 기능)

$ ssh-keygen -t rsa # 엔터 3번
$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
$ ssh localhost # 처음 한번만 yes, 두번째 접속시 부터는 안 물어봄.
$ exit # exit 로 꼭 나와야 함
</code></pre><h4 id="core-sitexml-하둡의-핵심-설정-파일-편집">core-site.xml (하둡의 핵심 설정 파일) 편집</h4>
<pre tabindex="0"><code>$ vim /home/유저명/hadoop-1.2.1/conf/core-site.xml

&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;?xml-stylesheet type=&#34;text/xsl&#34; href=&#34;configuration.xsl&#34;?&gt;
&lt;!-- Put site-specific property overrides in this file. --&gt;
&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;fs.default.name&lt;/name&gt;
        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
        &lt;value&gt;/home/유저명/hadoop-1.2.1/hadoop-${user.name}&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre><ul>
<li>fs.default.name : HDFS의 기본 이름을 의미. URI 형태로 사용.</li>
<li>hadoop.tmp.dir : 하둡에서 발생하는 임시 데이터를 저장하기 위한 공간</li>
</ul>
<h4 id="hdfs-sitexml-하둡-분산-파일-관련-설정-편집">hdfs-site.xml (하둡 분산 파일 관련 설정) 편집</h4>
<pre tabindex="0"><code>$ vim /home/유저명/hadoop-1.2.1/conf/hdfs-site.xml

&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;?xml-stylesheet type=&#34;text/xsl&#34; href=&#34;configuration.xsl&#34;?&gt;
&lt;!-- Put site-specific property overrides in this file. --&gt;
&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.name.dir&lt;/name&gt;
        &lt;value&gt;/home/유저명/hadoop-1.2.1/dfs/name&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.name.edits.dir&lt;/name&gt;
        &lt;value&gt;${dfs.name.dir}&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.data.dir&lt;/name&gt;
        &lt;value&gt;/home/유저명/hadoop-1.2.1/dfs/data&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre><ul>
<li>
<p>dfs.replication : HDFS의 저장될 데이터의 복제본 갯수를 의미. <!-- raw HTML omitted -->
가상분산모드 : 1 <!-- raw HTML omitted -->
완전분산모드 : 3</p>
</li>
<li>
<p>dfs.http.address : 네임노드용 웹서버의 주소값. <!-- raw HTML omitted -->
기본값 : 0.0.0.0:50070</p>
</li>
<li>
<p>dfs.secondary.http.address : 보조네임노드용 웹서버 주소값. <!-- raw HTML omitted -->
기본값 : 0.0.0.0:50090</p>
</li>
</ul>
<h4 id="mapred-sitexml-하둡-맵리듀스-관련-설정-편집">mapred-site.xml (하둡 맵리듀스 관련 설정) 편집</h4>
<pre tabindex="0"><code>$ vim /home/유저명/hadoop-1.2.1/conf/mapred-site.xml

&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;?xml-stylesheet type=&#34;text/xsl&#34; href=&#34;configuration.xsl&#34;?&gt;
&lt;!-- Put site-specific property overrides in this file. --&gt;
&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;mapred.job.tracker&lt;/name&gt;
        &lt;value&gt;localhost:9001&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;mapred.local.dir&lt;/name&gt;
        &lt;value&gt;${hadoop.tmp.dir}/mapred/local&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;mapred.system.dir&lt;/name&gt;
        &lt;value&gt;${hadoop.tmp.dir}/mapred/system&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre><ul>
<li>mapred.job.tracker : JobTracker 데몬의 주소를 의미. 데이터 노드에서 이 주소로 맵리듀스 작업을 요청.</li>
</ul>
<h4 id="namenode-포맷--namenode-는-처음에-꼭-한번-만-포맷해야-한다">namenode 포맷 ( namenode 는 처음에 꼭 한번 만 포맷해야 한다.)</h4>
<pre tabindex="0"><code>$ hadoop namenode -format
</code></pre><h4 id="하둡-시작-및-확인">하둡 시작 및 확인</h4>
<pre tabindex="0"><code>$ cd /home/유저명/hadoop-1.2.1
$ bin/start-all.sh
</code></pre><h4 id="하둡-프로세스-확인">하둡 프로세스 확인</h4>
<pre tabindex="0"><code>$ jps # 5개의 프로세스 출력되면 OK : namenode, secondarynamenode, datanode, jobtracker, tasktracker

# 브라우저에서 접속해서 확인

URL : http://localhost:50070/dfshealth.jsp   // HDFS 확인
URL : http://localhost:50030/jobtracker.jsp // MapReduce 확인
</code></pre><h3 id="이클립스-다운로드-설정">이클립스 다운로드, 설정</h3>
<h4 id="이클립스-다운로드">이클립스 다운로드</h4>
<p>URL : <a href="http://www.eclipse.org/downloads/">http://www.eclipse.org/downloads/</a> 로 접속</p>
<p>Eclipse IDE for Java Developers 를 다운로드</p>
<h4 id="압축해제">압축해제</h4>
<pre tabindex="0"><code>$ cd Downloads
$ tar zxvf eclipse-java-luna-SR2-linux-gtk-x86_64.tar.gz
</code></pre><h4 id="이클립스를-사용하여-maven-프로젝트-생성">이클립스를 사용하여 Maven 프로젝트 생성</h4>
<h5 id="maven에-대한-이해">Maven에 대한 이해</h5>
<p><a href="https://www.slideshare.net/sunnykwak90/ss-43767933">https://www.slideshare.net/sunnykwak90/ss-43767933</a></p>
<h5 id="이클립스-실행">이클립스 실행</h5>
<p>파일 (탐색기)를 이용해서 eclipse 폴더의 eclipse 파일을 더블 클릭해서 실행</p>
<h5 id="maven-project-생성">Maven Project 생성</h5>
<p>File -&gt; New -&gt; Project -&gt; Maven -&gt; Maven Project 선택</p>
<p>-&gt; [Next] -&gt; [Next] -&gt; [Next] -&gt;</p>
<p>Group Id : kr.co.mycompant.hd</p>
<p>Artifact Id : wcount</p>
<p>-&gt; [Finish]</p>
<h5 id="pomxml-수정해서-하둡-jar-파일-설정">pom.xml 수정해서 하둡 jar 파일 설정</h5>
<p>pom.xml 을 열어서 <!-- raw HTML omitted --> 와 <!-- raw HTML omitted --> 사이에 아래 내용을 입력</p>
<p>의미 : 하둡 1.2.1 관련된 jar 파일들을 자동으로 다운로드해서 환경 설정</p>
<pre tabindex="0"><code>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
  &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;
  &lt;version&gt;1.2.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p><img src="https://github.com/lovesignal/lovesignal.github.io/blob/master/_site/img/post/2018/Programming/Hadoop_pom_xml.png?raw=true" alt="Hadoop_pom_xml"></p>
<h3 id="wordcount-예제-코딩">WordCount 예제 코딩</h3>
<h4 id="wordcount-클래스-생성">WordCount 클래스 생성</h4>
<p><img src="https://github.com/lovesignal/lovesignal.github.io/blob/master/_site/img/post/2018/Programming/Hadoop_wordcount_class.png?raw=true" alt="Hadoop_class"></p>
<p>sr/main/java 밑의 kr.co.mycompany.hd.wcount 에서</p>
<p>우클릭해서 -&gt; New -&gt; Class : WordCount -&gt; [Finish]</p>
<p>아래 소스를 입력</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#ff79c6">package</span> kr.co.mycompany.hd.wcount<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#ff79c6">import</span> java.io.IOException<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#ff79c6">import</span> java.util.StringTokenizer<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.conf.Configuration<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.fs.Path<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.io.LongWritable<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.io.Text<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.mapreduce.Job<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.mapreduce.Mapper<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.mapreduce.Reducer<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.mapreduce.lib.input.FileInputFormat<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.mapreduce.lib.input.TextInputFormat<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span><span style="color:#ff79c6">import</span> org.apache.hadoop.mapreduce.lib.output.TextOutputFormat<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">WordCount</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MyMapper</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>    <span style="color:#8be9fd;font-style:italic">extends</span> Mapper<span style="color:#ff79c6">&lt;</span>LongWritable<span style="color:#ff79c6">,</span> Text<span style="color:#ff79c6">,</span> Text<span style="color:#ff79c6">,</span> LongWritable<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">final</span> <span style="color:#8be9fd;font-style:italic">static</span> LongWritable one <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> LongWritable<span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>    <span style="color:#8be9fd;font-style:italic">private</span> Text word <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Text<span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span>    @Override
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">map</span><span style="color:#ff79c6">(</span>LongWritable key<span style="color:#ff79c6">,</span> Text value<span style="color:#ff79c6">,</span> Context context<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span>        <span style="color:#8be9fd;font-style:italic">throws</span> IOException<span style="color:#ff79c6">,</span> InterruptedException <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span>      String line <span style="color:#ff79c6">=</span> value<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span>      StringTokenizer tokenizer <span style="color:#ff79c6">=</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span>        <span style="color:#ff79c6">new</span> StringTokenizer<span style="color:#ff79c6">(</span>line<span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;\t\r\n\f|,.()&lt;&gt; &#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span><span>      <span style="color:#ff79c6">while</span><span style="color:#ff79c6">(</span>tokenizer<span style="color:#ff79c6">.</span><span style="color:#50fa7b">hasMoreTokens</span><span style="color:#ff79c6">())</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span><span>        word<span style="color:#ff79c6">.</span><span style="color:#50fa7b">set</span><span style="color:#ff79c6">(</span>tokenizer<span style="color:#ff79c6">.</span><span style="color:#50fa7b">nextToken</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">toLowerCase</span><span style="color:#ff79c6">());</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span>        context<span style="color:#ff79c6">.</span><span style="color:#50fa7b">write</span><span style="color:#ff79c6">(</span>word<span style="color:#ff79c6">,</span> one<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span><span>      <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span><span>    <span style="color:#ff79c6">}</span><span style="color:#6272a4">// map
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span><span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">}</span><span style="color:#6272a4">// MyMapper
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span><span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MyReducer</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span><span>    <span style="color:#8be9fd;font-style:italic">extends</span> Reducer<span style="color:#ff79c6">&lt;</span>Text<span style="color:#ff79c6">,</span> LongWritable<span style="color:#ff79c6">,</span> Text<span style="color:#ff79c6">,</span> LongWritable<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span><span>    <span style="color:#8be9fd;font-style:italic">private</span> LongWritable sumWritable <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> LongWritable<span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span><span>    @Override
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span><span>    <span style="color:#8be9fd;font-style:italic">protected</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">reduce</span><span style="color:#ff79c6">(</span>Text key<span style="color:#ff79c6">,</span> Iterable<span style="color:#ff79c6">&lt;</span>LongWritable<span style="color:#ff79c6">&gt;</span> values<span style="color:#ff79c6">,</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span><span>        Context context<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span><span>        <span style="color:#8be9fd;font-style:italic">throws</span> IOException<span style="color:#ff79c6">,</span> InterruptedException <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span><span>      <span style="color:#8be9fd">long</span> sum <span style="color:#ff79c6">=</span> 0<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41</span><span>      <span style="color:#ff79c6">for</span><span style="color:#ff79c6">(</span>LongWritable val <span style="color:#ff79c6">:</span> values<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42</span><span>        sum <span style="color:#ff79c6">+=</span> val<span style="color:#ff79c6">.</span><span style="color:#50fa7b">get</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43</span><span>      <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44</span><span>      sumWritable<span style="color:#ff79c6">.</span><span style="color:#50fa7b">set</span><span style="color:#ff79c6">(</span>sum<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45</span><span>      context<span style="color:#ff79c6">.</span><span style="color:#50fa7b">write</span><span style="color:#ff79c6">(</span>key<span style="color:#ff79c6">,</span> sumWritable<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46</span><span>    <span style="color:#ff79c6">}</span><span style="color:#6272a4">// reduce
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47</span><span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">}</span><span style="color:#6272a4">// MyReducer
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48</span><span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#8be9fd;font-style:italic">throws</span> Exception <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49</span><span>    Configuration conf <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Configuration<span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50</span><span>    Job job <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Job<span style="color:#ff79c6">(</span>conf<span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;WordCount&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setJarByClass</span><span style="color:#ff79c6">(</span>WordCount<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setMapperClass</span><span style="color:#ff79c6">(</span>MyMapper<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setReducerClass</span><span style="color:#ff79c6">(</span>MyReducer<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputKeyClass</span><span style="color:#ff79c6">(</span>Text<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputValueClass</span><span style="color:#ff79c6">(</span>LongWritable<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setInputFormatClass</span><span style="color:#ff79c6">(</span>TextInputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputFormatClass</span><span style="color:#ff79c6">(</span>TextOutputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62</span><span>    FileInputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">addInputPath</span><span style="color:#ff79c6">(</span>job<span style="color:#ff79c6">,</span> <span style="color:#ff79c6">new</span> Path<span style="color:#ff79c6">(</span>args<span style="color:#ff79c6">[</span>0<span style="color:#ff79c6">]));</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63</span><span>    FileOutputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputPath</span><span style="color:#ff79c6">(</span>job<span style="color:#ff79c6">,</span> <span style="color:#ff79c6">new</span> Path<span style="color:#ff79c6">(</span>args<span style="color:#ff79c6">[</span>1<span style="color:#ff79c6">]));</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">waitForCompletion</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">true</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66</span><span>  <span style="color:#ff79c6">}</span><span style="color:#6272a4">// main
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">}</span><span style="color:#6272a4">// end
</span></span></span></code></pre></div><h5 id="코드-설명">코드 설명</h5>
<p><img src="https://github.com/lovesignal/lovesignal.github.io/blob/master/_site/img/post/2018/Programming/WordcountExample.png?raw=true" alt="WordcountExample"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#ff79c6">package</span> kr.co.mycompany.hd.wcount<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">WordCount</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MyMapper</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>    <span style="color:#8be9fd;font-style:italic">extends</span> Mapper<span style="color:#ff79c6">&lt;</span>LongWritable<span style="color:#ff79c6">,</span> Text<span style="color:#ff79c6">,</span> Text<span style="color:#ff79c6">,</span> LongWritable<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>    <span style="color:#6272a4">// Mapper를 상속받음 &lt;KEYIN, VALUEIN, KEYOUT, VALUEOUT&gt;
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#6272a4"></span>    
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">final</span> <span style="color:#8be9fd;font-style:italic">static</span> LongWritable one <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> LongWritable<span style="color:#ff79c6">(</span>1<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>    <span style="color:#6272a4">// final로 정의(상수). 공유하기 위해 static. 1을 담음. 어떤 단어가 한 번 나올 때 1이 들어가는 용도
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span><span style="color:#6272a4"></span>    
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>    <span style="color:#8be9fd;font-style:italic">private</span> Text word <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Text<span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>    <span style="color:#6272a4">// 단어 담는 용도. 이 위치에서 생성하는 게 성능 향상에 도움이 됨. 
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#6272a4"></span>    <span style="color:#6272a4">// Map에 생성되면 갯수만큼 호출되므로 매번 객체생성. Map에서는 객체 생성 안함. Map 들어가기 전에 생성.
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span><span style="color:#6272a4"></span>    
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>    @Override  
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">map</span><span style="color:#ff79c6">(</span>LongWritable key<span style="color:#ff79c6">,</span> Text value<span style="color:#ff79c6">,</span> Context context<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>    <span style="color:#6272a4">// Text value : 텍스트가 한 줄씩 들어옴
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span><span style="color:#6272a4"></span>    <span style="color:#6272a4">// Context : 나와 하둡의 연결고리
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span><span style="color:#6272a4"></span>    
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>        <span style="color:#8be9fd;font-style:italic">throws</span> IOException<span style="color:#ff79c6">,</span> InterruptedException <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span>      String line <span style="color:#ff79c6">=</span> value<span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>      <span style="color:#6272a4">// String으로 바꿔야 자바에서 자료 관리가 가능하므로 변경
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// toStirng : String으로 바꿔줌
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span><span style="color:#6272a4"></span>      
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span>      StringTokenizer tokenizer <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> StringTokenizer<span style="color:#ff79c6">(</span>line<span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;\t\r\n\f|,.()&lt;&gt; &#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span>      <span style="color:#6272a4">// StringTokenizer&lt;String, 구분자&gt;, 구분자 맨 뒤에 공백 있음.
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span><span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// Dear Bear River
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span><span><span style="color:#6272a4"></span>      
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span>      <span style="color:#ff79c6">while</span><span style="color:#ff79c6">(</span>tokenizer<span style="color:#ff79c6">.</span><span style="color:#50fa7b">hasMoreTokens</span><span style="color:#ff79c6">())</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span><span>        word<span style="color:#ff79c6">.</span><span style="color:#50fa7b">set</span><span style="color:#ff79c6">(</span>tokenizer<span style="color:#ff79c6">.</span><span style="color:#50fa7b">nextToken</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">toLowerCase</span><span style="color:#ff79c6">());</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span><span>        context<span style="color:#ff79c6">.</span><span style="color:#50fa7b">write</span><span style="color:#ff79c6">(</span>word<span style="color:#ff79c6">,</span> one<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span><span>      <span style="color:#6272a4">// hasMoreTokens() : 반복문 돌면서 &#39;hello hadoop world&#39;
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span><span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// -&gt; 3개로 끊어짐. &#39;hello&#39;, &#39;hadoo&#39;, &#39;world&#39;
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span><span><span style="color:#6272a4"></span>          
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span><span>      <span style="color:#6272a4">// word.set : 하나씩 담음
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span><span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// nextToken : 다음 토큰 가져옴
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span><span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// toLowerCase : 대소문자 구분 안하기 위해 모두 소문자로 변경
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span><span><span style="color:#6272a4"></span>      
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span><span>      <span style="color:#6272a4">// context.write(word, one) : 단어 기록. (ex) &#39;hello&#39;가 1번 나왔다 : (&#39;hello&#39;, 1)
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span><span><span style="color:#6272a4"></span>          <span style="color:#6272a4">// 첫번째 루프 : Deer, 1 / 두번째 루프 : Bear, 1 / 세번째 루프 : River 1
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41</span><span><span style="color:#6272a4"></span>      <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42</span><span>    <span style="color:#ff79c6">}</span><span style="color:#6272a4">// map
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43</span><span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">}</span><span style="color:#6272a4">// MyMapper
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44</span><span><span style="color:#6272a4"></span>  
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45</span><span>  
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46</span><span>  <span style="color:#6272a4">// Reducer
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47</span><span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MyReducer</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48</span><span>    <span style="color:#8be9fd;font-style:italic">extends</span> Reducer<span style="color:#ff79c6">&lt;</span>Text<span style="color:#ff79c6">,</span> LongWritable<span style="color:#ff79c6">,</span> Text<span style="color:#ff79c6">,</span> LongWritable<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49</span><span>    <span style="color:#6272a4">// Reducer &lt;KEYIN, VALUEIN, KEYOUT, VALUEOUT&gt;  
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50</span><span><span style="color:#6272a4"></span>      
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51</span><span>    <span style="color:#8be9fd;font-style:italic">private</span> LongWritable sumWritable <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> LongWritable<span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52</span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53</span><span>    @Override
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54</span><span>    <span style="color:#8be9fd;font-style:italic">protected</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">reduce</span><span style="color:#ff79c6">(</span>Text key<span style="color:#ff79c6">,</span> Iterable<span style="color:#ff79c6">&lt;</span>LongWritable<span style="color:#ff79c6">&gt;</span> values<span style="color:#ff79c6">,</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55</span><span>        Context context<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56</span><span>    <span style="color:#6272a4">// Iterable : 반복자
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57</span><span><span style="color:#6272a4"></span>        
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58</span><span>        <span style="color:#8be9fd;font-style:italic">throws</span> IOException<span style="color:#ff79c6">,</span> InterruptedException <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59</span><span>      <span style="color:#8be9fd">long</span> sum <span style="color:#ff79c6">=</span> 0<span style="color:#ff79c6">;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60</span><span>      <span style="color:#ff79c6">for</span><span style="color:#ff79c6">(</span>LongWritable val <span style="color:#ff79c6">:</span> values<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61</span><span>        sum <span style="color:#ff79c6">+=</span> val<span style="color:#ff79c6">.</span><span style="color:#50fa7b">get</span><span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62</span><span>      <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63</span><span>      <span style="color:#6272a4">// 반복문 돌면서 LongWritable로 하나씩 가져온다.
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64</span><span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// 배열로 두개가 들어온다고 생각(그림의 Shuffling 부분 참고). (ex) Bear[1, 1]
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65</span><span><span style="color:#6272a4"></span>      
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66</span><span>      sumWritable<span style="color:#ff79c6">.</span><span style="color:#50fa7b">set</span><span style="color:#ff79c6">(</span>sum<span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67</span><span>      <span style="color:#6272a4">// 더해 줌
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68</span><span><span style="color:#6272a4"></span>        
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69</span><span>      context<span style="color:#ff79c6">.</span><span style="color:#50fa7b">write</span><span style="color:#ff79c6">(</span>key<span style="color:#ff79c6">,</span> sumWritable<span style="color:#ff79c6">);</span>       
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70</span><span>    <span style="color:#ff79c6">}</span><span style="color:#6272a4">// reduce
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71</span><span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">}</span><span style="color:#6272a4">// MyReducer
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72</span><span><span style="color:#6272a4"></span>    
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73</span><span> 
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74</span><span>  <span style="color:#6272a4">// Main method
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75</span><span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#8be9fd;font-style:italic">throws</span> Exception <span style="color:#ff79c6">{</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76</span><span>    Configuration conf <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Configuration<span style="color:#ff79c6">();</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77</span><span>    <span style="color:#6272a4">// Configuration : 환경설정
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78</span><span><span style="color:#6272a4"></span>   
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79</span><span>    Job job <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Job<span style="color:#ff79c6">(</span>conf<span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;WordCount&#34;</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80</span><span>    <span style="color:#6272a4">// Job : MapReduce의 Job
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81</span><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setJarByClass</span><span style="color:#ff79c6">(</span>WordCount<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setMapperClass</span><span style="color:#ff79c6">(</span>MyMapper<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">84</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setReducerClass</span><span style="color:#ff79c6">(</span>MyReducer<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">85</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">86</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputKeyClass</span><span style="color:#ff79c6">(</span>Text<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">87</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputValueClass</span><span style="color:#ff79c6">(</span>LongWritable<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">88</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">89</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setInputFormatClass</span><span style="color:#ff79c6">(</span>TextInputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">90</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputFormatClass</span><span style="color:#ff79c6">(</span>TextOutputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">class</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">91</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">92</span><span>    FileInputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">addInputPath</span><span style="color:#ff79c6">(</span>job<span style="color:#ff79c6">,</span> <span style="color:#ff79c6">new</span> Path<span style="color:#ff79c6">(</span>args<span style="color:#ff79c6">[</span>0<span style="color:#ff79c6">]));</span>  <span style="color:#6272a4">// 입력폴더
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">93</span><span><span style="color:#6272a4"></span>    FileOutputFormat<span style="color:#ff79c6">.</span><span style="color:#50fa7b">setOutputPath</span><span style="color:#ff79c6">(</span>job<span style="color:#ff79c6">,</span> <span style="color:#ff79c6">new</span> Path<span style="color:#ff79c6">(</span>args<span style="color:#ff79c6">[</span>1<span style="color:#ff79c6">]));</span>  <span style="color:#6272a4">// 출력폴더
</span></span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">94</span><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">95</span><span>    job<span style="color:#ff79c6">.</span><span style="color:#50fa7b">waitForCompletion</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">true</span><span style="color:#ff79c6">);</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">96</span><span>  <span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">97</span><span><span style="color:#ff79c6">}</span><span style="color:#6272a4">// end
</span></span></span></code></pre></div><h4 id="예제를-maven-install-로-jar-파일로-패키징한다">예제를 Maven Install 로 ~.jar 파일로 패키징한다.</h4>
<p>프로젝트 우클릭 -&gt; Run As -&gt; 8 Maven install</p>
<p>target 폴더에 wcount-0.0.1-SNAPSHOT.jar 이 생성된다.</p>
<h3 id="하둡-가상-분산-모드에서-생성된-jar-을-사용하여-wordcount-실행-테스트">하둡 가상 분산 모드에서 생성된 jar 을 사용하여 WordCount 실행, 테스트</h3>
<ul>
<li>wcount-0.0.1-SNAPSHOT.jar 파일을 /home/유저명/hadoop-1.2.1 폴더에 복사한다.</li>
<li>hadoop fs 명령을 사용하여 테스트할 파일을 복사한다.</li>
</ul>
<pre tabindex="0"><code>$ hadoop fs -put READEME.txt .
</code></pre><h4 id="hadoop-jar-명령을-사용하여-예제를-실행테스트한다">hadoop jar 명령을 사용하여 예제를 실행/테스트한다.</h4>
<pre tabindex="0"><code>$ hadoop jar wcount-0.0.1-SNAPSHOT.jar kr.co.mycompany.hd.wcount.WordCount README.txt output1
</code></pre><h4 id="결과가-output1-폴더에-part-r-00000-이라는-파일로-저장된다">결과가 output1 폴더에 part-r-00000 이라는 파일로 저장된다.</h4>
<p>hadoop fs -cat 명령어를 통해서 학인 할 수 있다.</p>
<pre tabindex="0"><code>$ hadoop fs -cat output1/part-r-00000
</code></pre><h4 id="wc--wordcount-명령어">wc : wordcount 명령어</h4>
<p>단어수 31,  줄 179, 크기 1366</p>
<p><img src="https://github.com/lovesignal/lovesignal.github.io/blob/master/_site/img/post/2018/Programming/linux.png?raw=true" alt="linux"></p>
<p>[참고문헌]</p>
<p><a href="https://blog.naver.com/sungback/220381870733">https://blog.naver.com/sungback/220381870733</a></p>
<p><a href="https://www.slideshare.net/sunnykwak90/ss-43767933">https://www.slideshare.net/sunnykwak90/ss-43767933</a></p>
<p><a href="http://naver.me/IDMfcGl3">http://naver.me/IDMfcGl3</a></p>
<p><a href="https://hadoop.apache.org/docs/stable/hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">https://hadoop.apache.org/docs/stable/hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html</a></p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#hadoop">Hadoop</a>
      <ul>
        <li><a href="#mode-3가지">Mode 3가지</a>
          <ul>
            <li><a href="#hdfs-설치방식">HDFS 설치방식</a></li>
          </ul>
        </li>
        <li><a href="#순서">순서</a></li>
        <li><a href="#ubuntu에-jdk-8-설치">Ubuntu에 JDK 8 설치</a></li>
        <li><a href="#하둡-다운로드-후-압축-해제">하둡 다운로드 후 압축 해제</a>
          <ul>
            <li><a href="#vim-설정">vim 설정</a></li>
            <li><a href="#하둡-stand-alone-모드-구성-및-예제-테스트">하둡 Stand-alone 모드 구성 및 예제 테스트</a></li>
            <li><a href="#하둡-가상분산-모드-구성">하둡 가상분산 모드 구성</a></li>
            <li><a href="#hadoop-envsh-수정">hadoop-env.sh 수정</a></li>
            <li><a href="#보안-인증-관련-명령-실행">보안 인증 관련 명령 실행</a></li>
            <li><a href="#core-sitexml-하둡의-핵심-설정-파일-편집">core-site.xml (하둡의 핵심 설정 파일) 편집</a></li>
            <li><a href="#hdfs-sitexml-하둡-분산-파일-관련-설정-편집">hdfs-site.xml (하둡 분산 파일 관련 설정) 편집</a></li>
            <li><a href="#mapred-sitexml-하둡-맵리듀스-관련-설정-편집">mapred-site.xml (하둡 맵리듀스 관련 설정) 편집</a></li>
            <li><a href="#namenode-포맷--namenode-는-처음에-꼭-한번-만-포맷해야-한다">namenode 포맷 ( namenode 는 처음에 꼭 한번 만 포맷해야 한다.)</a></li>
            <li><a href="#하둡-시작-및-확인">하둡 시작 및 확인</a></li>
            <li><a href="#하둡-프로세스-확인">하둡 프로세스 확인</a></li>
          </ul>
        </li>
        <li><a href="#이클립스-다운로드-설정">이클립스 다운로드, 설정</a>
          <ul>
            <li><a href="#이클립스-다운로드">이클립스 다운로드</a></li>
            <li><a href="#압축해제">압축해제</a></li>
            <li><a href="#이클립스를-사용하여-maven-프로젝트-생성">이클립스를 사용하여 Maven 프로젝트 생성</a></li>
          </ul>
        </li>
        <li><a href="#wordcount-예제-코딩">WordCount 예제 코딩</a>
          <ul>
            <li><a href="#wordcount-클래스-생성">WordCount 클래스 생성</a></li>
            <li><a href="#예제를-maven-install-로-jar-파일로-패키징한다">예제를 Maven Install 로 ~.jar 파일로 패키징한다.</a></li>
          </ul>
        </li>
        <li><a href="#하둡-가상-분산-모드에서-생성된-jar-을-사용하여-wordcount-실행-테스트">하둡 가상 분산 모드에서 생성된 jar 을 사용하여 WordCount 실행, 테스트</a>
          <ul>
            <li><a href="#hadoop-jar-명령을-사용하여-예제를-실행테스트한다">hadoop jar 명령을 사용하여 예제를 실행/테스트한다.</a></li>
            <li><a href="#결과가-output1-폴더에-part-r-00000-이라는-파일로-저장된다">결과가 output1 폴더에 part-r-00000 이라는 파일로 저장된다.</a></li>
            <li><a href="#wc--wordcount-명령어">wc : wordcount 명령어</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&text=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&title=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&is_video=false&description=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5&body=Check out this article: https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&title=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&title=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&name=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5&description=Hadoop%20Hadoop%20%3d%20HDFS%20%2b%20MapReduce%0aMode%203%ea%b0%80%ec%a7%80%20HDFS%20%ec%84%a4%ec%b9%98%eb%b0%a9%ec%8b%9d%20%20Stand%20alone%20%28%eb%8f%85%eb%a6%bd%ec%8b%a4%ed%96%89%eb%aa%a8%eb%93%9c%29%20%3a%20%ea%b8%b0%eb%b3%b8%20%ec%8b%a4%ed%96%89%eb%aa%a8%eb%93%9c.%20%eb%b6%84%ec%82%b0%ec%a0%80%ec%9e%a5%20%ec%95%88%ed%95%a8.%20%ec%bd%94%eb%94%a9%ec%9d%80%20%ea%b0%80%eb%8a%a5.%20Pseudo-distributed%20%28%ea%b0%80%ec%83%81%eb%b6%84%ec%82%b0%eb%aa%a8%eb%93%9c%29%20%3a%20%ed%95%98%eb%82%98%ec%9d%98%20%ec%bb%b4%ed%93%a8%ed%84%b0%ec%97%90%20%ec%84%a4%ec%b9%98%20Fully%20distributed%20%28%ec%99%84%ec%a0%84%eb%b6%84%ec%82%b0%eb%aa%a8%eb%93%9c%29%20%3a%20%ec%97%ac%eb%9f%ac%20%eb%8c%80%ec%9d%98%20%ec%bb%b4%ed%93%a8%ed%84%b0%ec%97%90%20%ec%84%a4%ec%b9%98%20%20%ec%88%9c%ec%84%9c%20%20VirtualBox%20%ec%84%a4%ec%b9%98%20Ubuntu%2014.04.2%20%ec%84%a4%ec%b9%98%20%2f%2f%20%ec%9d%b4%ed%9b%84%ec%97%90%eb%8a%94%20VirtualBox%20%eb%82%b4%ec%9d%98%20Ubuntu%20%ec%97%90%ec%84%9c%20%ec%a7%84%ed%96%89%20JDK%20%ec%84%a4%ec%b9%98%20%ed%95%98%eb%91%a1%20%eb%8b%a4%ec%9a%b4%eb%a1%9c%eb%93%9c%20%ed%95%98%eb%91%a1%20Stand-alone%20%eb%aa%a8%eb%93%9c%20%ea%b5%ac%ec%84%b1%20%ed%95%98%eb%91%a1%20%ea%b0%80%ec%83%81%20%eb%b6%84%ec%82%b0%20%eb%aa%a8%eb%93%9c%20%ea%b5%ac%ec%84%b1%20%ec%9d%b4%ed%81%b4%eb%a6%bd%ec%8a%a4%20%eb%8b%a4%ec%9a%b4%eb%a1%9c%eb%93%9c%2c%20%ec%84%a4%ec%a0%95%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%bd%94%eb%94%a9%20%ed%85%8c%ec%8a%a4%ed%8a%b8%20%20Ubuntu%ec%97%90%20JDK%208%20%ec%84%a4%ec%b9%98%20%20%24%20sudo%20add-apt-repository%20ppa%3awebupd8team%2fjava%20%24%20sudo%20apt-get%20update%20%24%20sudo%20apt-get%20install%20oracle-java8-installer%20%ed%95%98%eb%91%a1%20%eb%8b%a4%ec%9a%b4%eb%a1%9c%eb%93%9c%20%ed%9b%84%20%ec%95%95%ec%b6%95%20%ed%95%b4%ec%a0%9c%20URL%20%3a%20https%3a%2f%2farchive." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flifeisgouda.github.io%2fposts%2fprogramming%2fhadoop%2f2018-02-24-hadoop_wordcount_example%2f&t=%5bHadoop%5d%20Hadoop%20%ec%84%a4%ec%b9%98%20%eb%b0%8f%20WordCount%20%ec%98%88%ec%a0%9c%20%ec%8b%a4%ec%8a%b5" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2022  fourierdev 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
